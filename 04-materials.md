# Введение в работу с материалами

В компьютерной графике материал определяет, как объект взаимодействует со светом. Он отвечает за цвет, блеск, прозрачность, отражение и другие визуальные характеристики. Шейдер - это математическая модель, описывающая, как свет взаимодействует с поверхностью объекта.

Простейший материал может состоять из одного цвета, но реалистичные сцены требуют сложных материалов, сочетающих текстуры, отражения и даже физические параметры, такие как шероховатость или подповерхностное рассеивание (SSS).

## Назначение материалов через свойства объекта

Материал можно создать и настроить в разделе Properties в объекта.

![Создание и назначение материала](assets/04_material_props_demo.webp)

У каждого объекта может быть назначено несколько материалов. Каждый материал привязывается к определенному слоту. Слот назначается на мешь объекта (на полигоны).

![Выбор и назначение материала](assets/04_material_props.png)

Чтобы назначить слот для определенных полигонов, нужно:

1. Создать слот
2. Выделить в Edit Mode полигоны
3. Assign
4. Выбрать в слоте материал или создать новый

Обратите внимание, что при выделении полигонов в Edit Mode будет выделятся назначенный слот. По этому перед нажатием Assign нужно проверить, какой указан слот. Создание нового слота не приводит к автоматическому назначению слота выделенным полигонам.

![Назначение слота материала](assets/04_material_slot_assign.webp)

## Типы шейдеров и их параметры

BSDF (Bidirectional Scattering Distribution Function) - это двунаправленная функция распределения рассеивания света. В контексте 3D-графики BSDF описывает, как свет взаимодействует с поверхностью объекта: отражается, рассеивается, поглощается или проходит сквозь материал.

![Список шейдеров](assets/04_shader_list.png)

### Principled BSDF

Это основной шейдер в Blender, который используется для создания физически корректных материалов (PBR - Physically Based Rendering). Он сочетает в себе несколько моделей рассеивания света и позволяет создать почти любой тип материала: металл, пластик, стекло, ткань, кожу и многое другое.

![Principled BSDF](assets/04_principled_BSD.png)

1. Базовые свойства (Surface)
   * Base Color - основной цвет материала
   * Metallic - степень металлического отражения (0 - диэлектрик, 1 - металл)
   * Roughness - степень шероховатости поверхности (0 - глянец, 1 - матовость)
   * IOR (Index of Refraction) - показатель преломления света (важно для стекла и прозрачных материалов)
   * Alpha - прозрачность материала (0 - полностью прозрачный, 1 - непрозрачный)
   * Normal - подключение карты нормалей (используется для детализации поверхности)
2. Diffuse (Диффузное рассеивание)
   * Roughness - дополнительный параметр для регулировки рассеивания света.
3. Subsurface (Подповерхностное рассеивание, SSS) - Используется для полупрозрачных материалов (кожа, воск, мрамор)
   * Weight - интенсивность рассеивания
   * Radius - глубина проникновения света
   * Scale - масштаб рассеивания
4. Specular (Зеркальные отражения)
   * IOR Level - интенсивность зеркального отражения
   * Anisotropic - анизотропные отражения (эффект расчесанной поверхности, например у металлов)
   * Anisotropic Rotation - направление анизотропных отражений
5. Transmission (Прозрачность и стекло)
   * Weight - степень прозрачности
6. Coat (Лаковый слой) - Позволяет добавить дополнительное глянцевое покрытие
   * Weight - интенсивность покрытия
   * Roughness - шероховатость покрытия
   * IOR - показатель преломления покрытия
7. Sheen (Эффект мягкого блеска) - Используется для имитации ткани
   * Weight - интенсивность эффекта
   * Roughness - степень шероховатости ткани
8. Emission (Светящиеся материалы)
   * Color - цвет свечения
   * Strength - интенсивность свечения
9. Thin Film (Тонкие пленки, переливы) - Создает эффект тонкопленочного покрытия (например, бензиновые разводы на воде)
   * Thickness - толщина пленки
   * IOR - показатель преломления для пленки

### Прочие шейдеры

Остальные BSDF шейдеры являются подмножеством Principled BSD, но у них упрощены параметры (убраны лишнии для тех или иных целей).

* Diffuse BSDF - Базовый диффузный (матовый) шейдер без отражений
* Glossy BSDF - Зеркальный отражающий шейдер
* Glass BSDF - Шейдер для прозрачных материалов с эффектом преломления
* Emission - Излучающий свет шейдер (самосвечения)
* Metallic BSDF - Отражающий металлический материал
* Transparent BSDF - Простая прозрачность без преломлений (например, для альфа-канала)
* Subsurface Scattering (SSS) - Эффект рассеивания света внутри материала (например, для кожи, воска)
* Mix Shader - Позволяет смешивать два любых шейдера
* Specular BSDF - Имитирует зеркальные отражения (альтернатива Glossy BSDF)
* Translucent BSDF - Передает свет сквозь объект, создавая эффект полупрозрачности

### Примеры применения шейдеров

TODO

## UV-развёртка и текстурирование

TODO
